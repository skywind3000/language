<script>
	class MyButton extends HTMLElement {
		constructor() {
			super();
			console.log('constructor');
		}
		connectedCallback() {
			const div = document.createElement('div');
			div.innerHTML = '<button>btn</button>';
			this.appendChild(div);
			console.log('connectedCallback');
		}
	}
	customElements.define('my-button', MyButton);
</script>

<div id='container'></div>

<script>
	const div = document.getElementById('container');
	const p = document.createElement('p');
	const btn = document.createElement('my-button');
	p.innerHTML = 'this is a p';
	btn.appendChild(p);
	console.log('created btn');
	div.appendChild(btn);
</script>



